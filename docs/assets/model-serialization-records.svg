<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="560" viewBox="0 0 1400 560" role="img" aria-labelledby="d">
  <desc id="d">Per-record byte encoding for TOPHAT model serialization using a sample tree.</desc>
  <defs>
    <style>
      .bg { fill: #f8fafc; }
      .panel { fill: #ffffff; stroke: #cbd5e1; stroke-width: 1.5; }
      .header { fill: #e2e8f0; }
      .row { fill: #f8fafc; }
      .grid { stroke: #94a3b8; stroke-width: 1; fill: none; }
      .text { font: 500 14px 'Menlo', 'SF Mono', monospace; fill: #0f172a; }
      .bytes { font: 700 14px 'Menlo', 'SF Mono', monospace; fill: #7c2d12; }
      .note { font: 500 12px 'Menlo', 'SF Mono', monospace; fill: #334155; }
    </style>
  </defs>

  <rect class="bg" x="0" y="0" width="1400" height="560"/>
  <rect class="panel" x="28" y="24" width="1344" height="512" rx="10"/>

  <rect class="header" x="52" y="52" width="1296" height="36" rx="6"/>
  <text class="text" x="66" y="75">Byte Range</text>
  <text class="text" x="220" y="75">Record</text>
  <text class="text" x="420" y="75">Decoded</text>
  <text class="text" x="930" y="75">Hex Bytes</text>

  <g>
    <rect class="row" x="52" y="88" width="1296" height="40"/>
    <rect class="row" x="52" y="128" width="1296" height="40"/>
    <rect class="row" x="52" y="168" width="1296" height="40"/>
    <rect class="row" x="52" y="208" width="1296" height="40"/>
    <rect class="row" x="52" y="248" width="1296" height="40"/>
    <rect class="row" x="52" y="288" width="1296" height="40"/>
    <rect class="row" x="52" y="328" width="1296" height="40"/>
    <rect class="row" x="52" y="368" width="1296" height="40"/>

    <rect class="grid" x="52" y="52" width="1296" height="356"/>
    <line class="grid" x1="200" y1="52" x2="200" y2="408"/>
    <line class="grid" x1="400" y1="52" x2="400" y2="408"/>
    <line class="grid" x1="910" y1="52" x2="910" y2="408"/>

    <line class="grid" x1="52" y1="88" x2="1348" y2="88"/>
    <line class="grid" x1="52" y1="128" x2="1348" y2="128"/>
    <line class="grid" x1="52" y1="168" x2="1348" y2="168"/>
    <line class="grid" x1="52" y1="208" x2="1348" y2="208"/>
    <line class="grid" x1="52" y1="248" x2="1348" y2="248"/>
    <line class="grid" x1="52" y1="288" x2="1348" y2="288"/>
    <line class="grid" x1="52" y1="328" x2="1348" y2="328"/>
    <line class="grid" x1="52" y1="368" x2="1348" y2="368"/>
  </g>

  <text class="text" x="66" y="113">0..3</text>
  <text class="text" x="220" y="113">N0</text>
  <text class="text" x="420" y="113">[feature=2, threshold=24, left=1, right=2]</text>
  <text class="bytes" x="930" y="113">02 18 01 02</text>

  <text class="text" x="66" y="153">4..7</text>
  <text class="text" x="220" y="153">N1</text>
  <text class="text" x="420" y="153">[feature=0, threshold=8, left=3, right=4]</text>
  <text class="bytes" x="930" y="153">00 08 03 04</text>

  <text class="text" x="66" y="193">8..11</text>
  <text class="text" x="220" y="193">N2</text>
  <text class="text" x="420" y="193">[feature=7, threshold=35, left=5, right=6]</text>
  <text class="bytes" x="930" y="193">07 23 05 06</text>

  <text class="text" x="66" y="233">12..15</text>
  <text class="text" x="220" y="233">N3</text>
  <text class="text" x="420" y="233">[feature=4, threshold=20, left=7, right=8]</text>
  <text class="bytes" x="930" y="233">04 14 07 08</text>

  <text class="text" x="66" y="273">16..19</text>
  <text class="text" x="220" y="273">N4</text>
  <text class="text" x="420" y="273">[feature=1, threshold=20, left=9, right=10]</text>
  <text class="bytes" x="930" y="273">01 14 09 0A</text>

  <text class="text" x="66" y="313">20..23</text>
  <text class="text" x="220" y="313">N5</text>
  <text class="text" x="420" y="313">[feature=6, threshold=40, left=11, right=12]</text>
  <text class="bytes" x="930" y="313">06 28 0B 0C</text>

  <text class="text" x="66" y="353">24..27</text>
  <text class="text" x="220" y="353">N6</text>
  <text class="text" x="420" y="353">[feature=3, threshold=28, left=13, right=14]</text>
  <text class="bytes" x="930" y="353">03 1C 0D 0E</text>

  <text class="text" x="66" y="393">28..35</text>
  <text class="text" x="220" y="393">Leaves</text>
  <text class="text" x="420" y="393">[L0..L7] output values</text>
  <text class="bytes" x="930" y="393">08 12 19 2D 37 55 5F 8C</text>

  <text class="note" x="52" y="444">Internal node layout is fixed: [feature_id, threshold, left_child, right_child].</text>
  <text class="note" x="52" y="468">Leaf payload is fixed-order values L0..L7 (indices 7..14 in the tree).</text>
</svg>
